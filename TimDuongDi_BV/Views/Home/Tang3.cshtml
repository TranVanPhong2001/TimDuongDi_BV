
@{
    ViewBag.Title = "Tang3";
    var selectedDiemDi = ViewBag.DiemDi as string ?? "Vị trí hiện tại";
    var selectedDiemDen = ViewBag.DiemDen as string ?? "Vị trí muốn đến";
    var currentTang = ViewBag.Tang ?? 3;
}


<div class="space"></div>
<div class="title">
    <h2>Tìm nơi bạn muốn đến</h2>
</div>

<form class="box_location" action="/Home/TimLoTrinh" method="post">

    <div class="dropdown">
        <div class="select">
            <select class="form-control" name="diemDi" id="diemDi">
                <option value="Vị trí hiện tại">Vị trí hiện tại</option>
                @foreach (var item in ViewBag.DiemDiList)
                {
                    <option value="@item" @(item == selectedDiemDi ? "selected" : "")>@item</option>
                }
            </select>
        </div>
    </div>


    <div class="icon">
        <i class='bx bx-chevrons-right bx-fade-right'></i>
    </div>

    <div class="dropdown">
        <div class="select">
            <select class="form-control" name="diemDen" id="diemDen">
                <option value="Vị trí muốn đến">Vị trí muốn đến</option>
                @foreach (var item in ViewBag.DiemDenList)
                {
                    <option value="@item" @(item == selectedDiemDen ? "selected" : "")>@item</option>
                }
            </select>
        </div>
    </div>
    <input type="hidden" name="tang" value="@currentTang" />
    <button type="submit">Tìm kiếm</button>

</form>

@if (ViewBag.Message != null)
{
    <div class="alert alert-info" style="text-align: center; margin-top: 20px;">
        @ViewBag.Message
    </div>
}
<div class="image-display">
    @if (ViewBag.Route != null)
    {
        <img id="floorMap" src="@ViewBag.Route" alt="Floor Map">
    }
    else
    {
        <img id="defaultImage" src="~/Content/Map/imgs/floor/MAP_3.png" alt="Default Image">
    }
</div>
<div class="box_location">
    <label for="floorSelect">Chọn tầng:</label>
    <select id="floorSelect" class="form-control" onchange="changeFloor()">

        <option value="1" @(currentTang == 1 ? "selected" : "")>Tầng 1</option>
        <option value="2" @(currentTang == 2 ? "selected" : "")>Tầng 2</option>
        <option value="3" @(currentTang == 3 ? "selected" : "")>Tầng 3</option>
    </select>
</div>

<script>
    function changeFloor() {
        var selectedFloor = document.getElementById('floorSelect').value;
        window.location.href = '/Home/Tang' + selectedFloor;
    }
</script>
<article class="box_note">
    <div class="note">
        <ul class="list_note">
            <div class="box_3">
                <div class="color color_11">0</div>
                <div>1.1</div>
                <p>Khoa khám bệnh</p>
            </div>
            <div class="box_3">
                <div class="color color_12">0</div>
                <div>1.2</div>
                <p>Khu lấy mẫu xét nghiệm</p>
            </div>
            <div class="box_3">
                <div class="color color_11">0</div>
                <div>1.3</div>
                <p>Khu khám dịch vụ</p>
            </div>
            <div class="box_3">
                <div class="color color_14">0</div>
                <div>1.4</div>
                <p>Quầy hướng dẫn</p>
            </div>
            <div class="box_3">
                <div class="color color_15">0</div>
                <div>1.5</div>
                <p>Khoa chăm sóc giảm nhẹ</p>
            </div>

        </ul>
        <ul class="list_note">
            <div class="box_3">
                <div class="color color_16">0</div>
                <div>1.6</div>
                <p>Khu siêu âm</p>
            </div>
            <div class="box_3">
                <div class="color color_16">0</div>
                <div>1.7</div>
                <p>Khoa chẩn đoán hình ảnh</p>
            </div>
            <div class="box_3">
                <div class="color color_18">0</div>
                <div>1.8</div>
                <p>Khoa cấp cứu</p>
            </div>
            <div class="box_3">
                <div class="color color_14">0</div>
                <div>1.12</div>
                <p>Quầy tiếp nhận</p>
            </div>
            <div class="box_3">
                <div class="color color_14">0</div>
                <div>1.13</div>
                <p>Quầy thu ngân</p>
            </div>

        </ul>
        <ul class="list_note3">
            <div class="box_3">
                <div class="color color_114">0</div>
                <div>1.14</div>
                <p>Quầy thông tin</p>
            </div>
            <div class="box_3">
                <img src="../imgs/note/WC.png" width="25" height="25" alt="">
                <p>Nhà vệ sinh</p>
            </div>
            <div class="box_3">
                <img src="../imgs/note/ThangMay.png" width="25" height="25" alt="">
                <p>Thang máy</p>
            </div>
            <div class="box_3">
                <img src="../imgs/note/ThangBo.png" width="25" height="25" alt="">
                <p>Thang bộ</p>
            </div>
        </ul>
    </div>
</article>

<script src="~/Content/Map/js/floor.js"></script>
